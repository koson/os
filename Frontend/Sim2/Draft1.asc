Version 4
SHEET 1 2624 836
WIRE 144 -160 96 -160
WIRE 240 -160 208 -160
WIRE 1280 -160 1216 -160
WIRE 1408 -160 1344 -160
WIRE 1504 -160 1488 -160
WIRE 1680 -160 1648 -160
WIRE 1792 -160 1744 -160
WIRE 1952 -160 1872 -160
WIRE 2112 -144 2096 -144
WIRE 2224 -144 2192 -144
WIRE -192 -80 -272 -80
WIRE -176 -80 -192 -80
WIRE -32 -80 -96 -80
WIRE 48 -80 -32 -80
WIRE 96 -80 96 -160
WIRE 96 -80 48 -80
WIRE 128 -80 96 -80
WIRE 240 -80 240 -160
WIRE 240 -80 208 -80
WIRE 256 -80 240 -80
WIRE 368 -80 256 -80
WIRE 640 -80 368 -80
WIRE 704 -80 640 -80
WIRE 768 -80 704 -80
WIRE 896 -80 832 -80
WIRE 992 -80 976 -80
WIRE 1152 -80 992 -80
WIRE 1216 -80 1216 -160
WIRE 1216 -80 1152 -80
WIRE 1232 -80 1216 -80
WIRE 1280 -80 1232 -80
WIRE 1392 -80 1360 -80
WIRE 1504 -80 1504 -160
WIRE 1504 -80 1392 -80
WIRE 1536 -80 1504 -80
WIRE 1600 -80 1536 -80
WIRE 1648 -80 1648 -160
WIRE 1648 -80 1600 -80
WIRE 1664 -80 1648 -80
WIRE 1760 -80 1744 -80
WIRE 1856 -80 1840 -80
WIRE 1952 -80 1952 -160
WIRE 1952 -80 1936 -80
WIRE 2096 -80 2096 -144
WIRE 2096 -80 1952 -80
WIRE 2112 -80 2096 -80
WIRE 2192 -80 2112 -80
WIRE 2288 -80 2288 -144
WIRE 2288 -80 2272 -80
WIRE -32 -48 -32 -80
WIRE 48 -48 48 -80
WIRE 256 -48 256 -80
WIRE 368 -48 368 -80
WIRE 1152 -48 1152 -80
WIRE 1232 -48 1232 -80
WIRE 1392 -48 1392 -80
WIRE 1600 -48 1600 -80
WIRE 1536 -32 1536 -80
WIRE -272 -16 -272 -80
WIRE 2112 -16 2112 -80
WIRE 2144 -16 2112 -16
WIRE -192 0 -192 -80
WIRE -176 0 -192 0
WIRE -96 0 -96 -80
WIRE -96 0 -112 0
WIRE 640 0 640 -80
WIRE 704 0 704 -80
WIRE 720 0 704 0
WIRE 768 0 720 0
WIRE 880 0 848 0
WIRE 992 0 992 -80
WIRE 992 0 880 0
WIRE 1024 0 992 0
WIRE 2288 0 2288 -80
WIRE 2288 0 2208 0
WIRE 2144 16 2128 16
WIRE -32 32 -32 16
WIRE 368 32 368 16
WIRE 720 32 720 0
WIRE 880 32 880 0
WIRE 1152 32 1152 16
WIRE 1600 32 1600 16
WIRE 1024 48 1024 0
WIRE 1232 48 1232 32
WIRE 1392 48 1392 32
WIRE 640 80 640 64
WIRE 720 128 720 112
WIRE 880 128 880 112
WIRE 720 320 704 320
WIRE 448 400 352 400
WIRE 592 400 528 400
WIRE 720 432 720 400
WIRE 720 432 704 432
WIRE 752 432 720 432
WIRE 864 432 832 432
WIRE 944 432 864 432
WIRE 1040 432 1024 432
WIRE 1216 432 1040 432
WIRE 1344 432 1296 432
WIRE 1376 432 1344 432
WIRE 1552 432 1456 432
WIRE 352 464 352 400
WIRE 192 480 -48 480
WIRE 1824 480 1744 480
WIRE 1840 480 1824 480
WIRE 144 496 64 496
WIRE 192 496 192 480
WIRE 224 496 192 496
WIRE 64 512 64 496
WIRE 1744 512 1744 480
WIRE 144 528 144 496
WIRE 224 528 144 528
WIRE 704 528 704 432
WIRE 736 528 704 528
WIRE 1040 528 1040 432
WIRE 1136 528 1040 528
WIRE 1344 528 1344 432
WIRE 1344 528 1296 528
WIRE 1552 528 1552 432
WIRE 864 544 864 432
WIRE 864 544 800 544
WIRE 224 560 144 560
WIRE 592 560 592 400
WIRE 592 560 448 560
WIRE 608 560 592 560
WIRE 736 560 688 560
WIRE 1136 560 1104 560
WIRE 224 592 176 592
WIRE 1136 592 1040 592
WIRE 1344 592 1296 592
WIRE 64 608 64 592
WIRE 144 608 144 560
WIRE 144 608 64 608
WIRE 176 608 176 592
WIRE 224 624 176 624
WIRE 336 688 336 656
WIRE 176 704 176 624
WIRE 1040 720 1040 592
WIRE 1040 720 1024 720
WIRE 1216 720 1040 720
WIRE 1344 720 1344 592
WIRE 1344 720 1296 720
WIRE 1376 720 1344 720
WIRE 1552 720 1552 608
WIRE 1552 720 1456 720
WIRE 368 736 368 656
FLAG 176 608 0
FLAG 176 784 0
FLAG 336 688 0
FLAG -304 -384 0
FLAG -240 -384 0
FLAG -304 -464 V+
FLAG 320 464 V+
FLAG -240 -464 V-
FLAG 304 656 V-
FLAG -272 64 0
FLAG 768 512 V+
FLAG 768 576 V-
FLAG 624 432 0
FLAG 800 576 V+
FLAG -32 -400 0
FLAG -112 -400 0
FLAG -112 -464 V+
FLAG -32 -464 V-
FLAG 368 816 0
FLAG 1168 480 V+
FLAG 1168 640 V-
FLAG 1200 640 V+
FLAG 1104 560 1V
FLAG -368 -384 0
FLAG -368 -464 1V
FLAG 944 720 0
FLAG 1552 432 A
FLAG 1552 720 B
FLAG 640 320 0
FLAG 1744 592 0
FLAG 1824 480 diff
FLAG -128 480 0
FLAG 2176 -32 V+
FLAG 2176 32 V-
FLAG 2128 16 0
FLAG 1232 48 0
FLAG 1392 48 0
FLAG 1536 32 0
FLAG 720 128 0
FLAG 880 128 0
FLAG 1024 112 0
FLAG 1600 112 0
FLAG 1152 32 0
FLAG 640 80 0
FLAG 256 32 0
FLAG 48 32 0
FLAG 368 32 0
FLAG -32 32 0
SYMBOL MiscAnalog\\VCA821 336 560 R0
WINDOW 3 14 15 Center 2
SYMATTR Value VCA821_Model
SYMATTR InstName U1
SYMBOL res 48 496 R0
SYMATTR InstName R1
SYMATTR Value 220
SYMBOL voltage 176 688 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V1
SYMATTR Value .86
SYMBOL voltage -304 -480 R0
WINDOW 123 0 0 Left 2
WINDOW 39 24 44 Left 2
SYMATTR InstName V2
SYMATTR Value 5
SYMATTR SpiceLine Rser=.1
SYMBOL voltage -240 -480 R0
WINDOW 123 0 0 Left 2
WINDOW 39 24 44 Left 2
SYMATTR InstName V3
SYMATTR Value -5
SYMATTR SpiceLine Rser=.1
SYMBOL res 544 384 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value 470
SYMBOL voltage -272 -32 R0
WINDOW 123 24 124 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V4
SYMATTR Value SINE(0 15.85m {freq})
SYMATTR Value2 AC 1
SYMBOL Opamps\\AD\\AD8000 768 480 R0
SYMATTR InstName U2
SYMBOL res 704 544 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value 33
SYMBOL res 848 416 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R4
SYMATTR Value 560
SYMBOL res 720 416 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R5
SYMATTR Value 160
SYMBOL cap -128 -464 R0
SYMATTR InstName C1
SYMATTR Value 100n
SYMATTR SpiceLine Rser=.01
SYMBOL cap -48 -464 R0
SYMATTR InstName C2
SYMATTR Value 100n
SYMATTR SpiceLine Rser=.01
SYMBOL voltage 368 720 R0
WINDOW 123 0 0 Left 2
WINDOW 39 24 44 Left 2
SYMATTR InstName V5
SYMATTR Value -13.861m
SYMBOL Opamps\\TI\\LMH6552 1200 560 R0
SYMATTR InstName U3
SYMBOL voltage -368 -480 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V6
SYMATTR Value 1
SYMBOL res 1040 416 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R6
SYMATTR Value 150
SYMBOL res 1312 416 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R7
SYMATTR Value 680
SYMBOL res 1040 704 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R8
SYMATTR Value 150
SYMBOL res 1312 704 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R9
SYMATTR Value 680
SYMBOL res 1472 416 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R10
SYMATTR Value 50
SYMBOL res 1536 512 R0
SYMATTR InstName R11
SYMATTR Value 100
SYMBOL res 1472 704 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R12
SYMATTR Value 50
SYMBOL res -32 464 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R13
SYMATTR Value 1
SYMBOL cap 704 304 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C5
SYMATTR Value 3p3
SYMBOL res 704 304 R0
SYMATTR InstName R14
SYMATTR Value 3k3
SYMBOL bv 1744 496 R0
SYMATTR InstName B1
SYMATTR Value V=V(A,B)
SYMBOL Opamps\\opamp2 2176 -64 R0
SYMATTR InstName U4
SYMATTR Value ADA4817
SYMBOL res 2288 -64 M270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R21
SYMATTR Value 1Meg
SYMBOL res 1760 -96 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R15
SYMATTR Value 332k
SYMBOL res 1856 -96 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R16
SYMATTR Value 332k
SYMBOL res 1952 -96 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R17
SYMATTR Value 332k
SYMBOL cap 1744 -176 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C3
SYMATTR Value 4p7
SYMBOL res 1888 -176 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R18
SYMATTR Value 75
SYMBOL res 2208 -160 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R19
SYMATTR Value 75
SYMBOL cap 2288 -160 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C4
SYMATTR Value 3p9
SYMBOL res 1216 -64 R0
SYMATTR InstName R20
SYMATTR Value 1.92495e+06
SYMBOL res 1376 -96 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R22
SYMATTR Value 1.42302e+06
SYMBOL res 1376 -64 R0
SYMATTR InstName R23
SYMATTR Value 1.92495e+06
SYMBOL cap 1344 -176 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C6
SYMATTR Value 9p
SYMBOL cap 1520 -32 R0
SYMATTR InstName C7
SYMATTR Value 8.2p
SYMBOL res 1504 -176 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R24
SYMATTR Value 22
SYMBOL res 704 16 R0
SYMATTR InstName R25
SYMATTR Value 1.92495e+06
SYMBOL res 864 -16 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R26
SYMATTR Value 1.42302e+06
SYMBOL res 864 16 R0
SYMATTR InstName R27
SYMATTR Value 1.92495e+06
SYMBOL cap 832 -96 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C8
SYMATTR Value 9p
SYMBOL cap 1008 48 R0
SYMATTR InstName C9
SYMATTR Value 7.6p
SYMBOL res 992 -96 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R28
SYMATTR Value 22
SYMBOL res -80 -96 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R29
SYMATTR Value 1Meg
SYMBOL cap -112 -16 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C10
SYMATTR Value 12p
SYMBOL cap 1584 -48 R0
SYMATTR InstName C11
SYMATTR Value 6p9
SYMBOL res 1584 16 R0
SYMATTR InstName R30
SYMATTR Value 3.3
SYMBOL cap 1136 -48 R0
SYMATTR InstName C12
SYMATTR Value 5.5p
SYMBOL cap 624 0 R0
SYMATTR InstName C13
SYMATTR Value 5.5p
SYMBOL res 32 -64 R0
SYMATTR InstName R31
SYMATTR Value 1.22222e+06
SYMBOL res 224 -96 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R32
SYMATTR Value 4.95e+06
SYMBOL res 240 -64 R0
SYMATTR InstName R33
SYMATTR Value 1.22222e+06
SYMBOL cap 208 -176 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C14
SYMATTR Value 4p7
SYMBOL cap 352 -48 R0
SYMATTR InstName C15
SYMATTR Value 29p
SYMBOL cap -48 -48 R0
SYMATTR InstName C16
SYMATTR Value 8.5p
TEXT 8 -328 Left 2 !;tran {20k/freq}
TEXT -48 -360 Left 2 !.param freq 10Meg
TEXT -48 -296 Left 2 !.lib VCA821.sub
TEXT 56 -272 Left 2 !.ac dec 50 1k 1G
TEXT 392 688 Left 2 ;-20 to 6 dB
TEXT 360 448 Left 2 ;Desired: -20dBm
TEXT 1744 440 Left 2 ;-10dBVp
TEXT -352 -520 Left 2 ;Signal levels assume full-scale signal
TEXT 856 408 Left 2 ;-17dBVp
TEXT 488 536 Left 2 ;-30dBVp
TEXT -24 440 Left 2 ;-36dBVp to -10dBVp
TEXT -256 128 Left 2 ;-54dBVp to 32dBVp
TEXT 1040 288 Left 2 ;-54dBVp to 32dBVp
TEXT 304 -288 Left 2 !.lib ADA4817.sub
TEXT 312 -256 Left 2 !.lib diode.lib
